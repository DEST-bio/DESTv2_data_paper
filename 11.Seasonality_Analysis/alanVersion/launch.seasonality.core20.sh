#!/usr/bin/env bash
#
#SBATCH -J glmOmn # A single job name for the array
#SBATCH -c 5
#SBATCH -N 1 # on one node
#SBATCH -t 01:30:00 #<= this may depend on your resources
#SBATCH --mem 15G #<= this may depend on your resources
#SBATCH -p standard
#SBATCH -A berglandlab_standard
#SBATCH -o /scratch/aob2x/DEST2_analysis/seasonality/logs/glmOmn.%A_%a.out # Standard output
#SBATCH -e /scratch/aob2x/DEST2_analysis/seasonality/logs/glmOmn.%A_%a.err # Standard error

### sbatch --array=1-9060 /home/aob2x/DESTv2_data_paper/11.Seasonality_Analysis/alanVersion/launch.seasonality.core20.sh
### sbatch --array=199,200,213,227,364,590,591,748,839,875,1305,1306,1307,1308,1309,1310,1681,1682,1683,1786,1787,1788,1789,1790,1791,1793,1794,1797,1852,1865,1867,1868,1869,1870,1871,1873,1874,1899,1901,1902,1903,1904,1905,1906,1907,1908,1925,1926,1929,1933,1934,1938,1939,1948,1951,1953,1954,1955,1956,1957,1958,1962,1964,1965,1967,1968,1969,1970,1971,1972,1973,1974,1975,1976,1977,1978,1983,1987,1995,1996,2001,2012,2015,2017,2018,2019,2020,2021,2022,2023,2024,2025,2028,2033,2037,2050,2052,2061,2065,2069,2077,2081,2082,2084,2087,2091,2092,2102,2103,2104,2105,2114,2116,2121,2126,2130,2132,2133,2135,2136,2142,2143,2146,2148,2149,2151,2152,2156,2161,2164,2167,2170,2171,2173,2177,2178,2182,2183,2186,2187,2190,2195,2202,2204,2206,2207,2209,2222,2236,2237,2238,2239,2240,2253,2254,2262,2263,2264,2276,2284,2304,2307,2308,2310,2316,2401,2416,2418,2474,2475,2476,2477,2478,2479,2480,2482,2485,2486,2489,2491,2838,2976,3002,3305,3597,3598,3707,3793,3800,3919,4048,4075,4189,4441,4481,4507,4529,4590,4695,4712,5007,5206,5698,5699,5700,5702,5749,5796,5981,5985,5997,6002,6006,6014,6015,6028,6048,6063,6064,6083,6086,6092,6093,6094,6101,6103,6104,6105,6106,6107,6108,6109,6110,6111,6112,6114,6120,6130,6135,6140,6141,6142,6146,6149,6153,6154,6156,6157,6159,6163,6164,6169,6170,6176,6182,6185,6195,6196,6199,6200,6212,6213,6226,6227,6228,6229,6230,6231,6233,6234,6237,6241,6243,6244,6248,6249,6254,6255,6257,6258,6259,6262,6266,6269,6270,6271,6272,6278,6284,6286,6288,6290,6295,6296,6297,6298,6299,6300,6301,6302,6303,6304,6305,6306,6307,6308,6309,6310,6311,6315,6330,6331,6341,6343,6345,6346,6347,6348,6349,6350,6351,6352,6353,6362,6363,6366,6367,6368,6369,6370,6371,6372,6373,6374,6375,6378,6381,6383,6388,6390,6391,6392,6394,6398,6399,6400,6401,6402,6403,6404,6405,6406,6410,6411,6412,6413,6414,6415,6417,6418,6419,6420,6421,6422,6423,6426,6428,6429,6430,6431,6432,6433,6437,6438,6439,6440,6441,6444,6445,6451,6456,6460,6462,6465,6468,6470,6471,6475,6476,6479,6480,6481,6482,6484,6485,6486,6492,6496,6504,6506,6508,6512,6513,6516,6517,6522,6524,6525,6533,6534,6537,6539,6546,6547,6549,6553,6554,6555,6556,6557,6558,6559,6560,6561,6562,6567,6571,6574,6575,6576,6577,6579,6582,6584,6585,6586,6590,6592,6605,6606,6611,6614,6616,6618,6620,6621,6622,6623,6634,6635,6636,6639,6642,6646,6647,6649,6655,6656,6657,6658,6659,6662,6666,6667,6670,6675,6676,6683,6684,6685,6695,6699,6702,6705,6706,6708,6712,6713,6715,6719,6722,6723,6725,6726,7030,7429,7709,7984,8172,8222,8371,8909 /home/aob2x/DESTv2_data_paper/11.Seasonality_Analysis/alanVersion/launch.seasonality.core20.sh

### sacct -j 50085225
### cat /scratch/aob2x/DEST2_analysis/seasonality/logs/glmOmn.50075916_199.err
### cat /scratch/aob2x/DESTv2_output_SNAPE/logs/runSnakemake.49369837*.err



module load gcc/7.1.0  openmpi/3.1.4 R/4.1.1

cd /home/aob2x/DESTv2_data_paper/11.Seasonality_Analysis/alanVersion


Rscript \
--vanilla \
seasonality.R \
${SLURM_ARRAY_TASK_ID} \
"Core20_seas" \
100
